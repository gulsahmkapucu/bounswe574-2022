{% extends 'base.html' %}
{% load static %}

{% block content %}
{% if not user.is_authenticated %}
<div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold">Welcome to ColearnApp!</h1>
    <div class="col-lg-6 mx-auto">
        <p class="lead mb-4">ColearnApp provides you a unique way of learning by collaborating with fellow like-minded learners. You are free to browse colearning spaces. But registering and collaborating are free! So, why not register?</p>
        <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
            <a class="btn btn-primary btn-lg px-4 gap-3" href="{% url 'users:register' %}" role="button">Register Now</a>
            <a class="btn btn-outline-secondary btn-lg px-4" href="{% url 'users:login' %}" role="button">Login</a>
        </div>
    </div>
</div>

{% else %}
<div class="px-4 my-5 text-center">
    <h1>Your Spaces</h1>
</div>
<div class="mt-5 spaces-container">
    {% if own_spaces %}
    <ul>
        {% for space in own_spaces %}
        <li>
            <a href="#"><img src="https://colearnapp-space-covers.s3.eu-west-1.amazonaws.com/{{ space.id }}.jpg" alt="{{ space.name }}" /><br />{{ space.name }}</a>
        </li>
        {% endfor %}
        <li>
            <a href="{% url 'spaces:create' %}"><img src="{% static 'dashboard/plus.png' %}" alt="Create a new Colearning Space" /><br />Create a new Colearning Space</a>
        </li>
    </ul>
    {% else %}
    <p class="text-center">You have not joined any space yet. Join a space to start colearning, or <a href="{% url 'spaces:create' %}">create a new one</a>.</p>
    {% endif %}
    <div class="clearfix"></div>
</div>
{% endif %}

<hr />

<div class="px-4 my-5 text-center">
    <h1>Browse Colearning Spaces</h1>
</div>
<div class="mt-5 spaces-container">
    {% if all_spaces %}
    <ul>
        {% for space in all_spaces %}
        <li>
            <a href="#"><img src="https://colearnapp-space-covers.s3.eu-west-1.amazonaws.com/{{ space.id }}.jpg" alt="{{ space.name }}" /><br />{{ space.name }}</a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No spaces are available.</p>
    {% endif %}
    <div class="clearfix"></div>
</div>
{% endblock %}
